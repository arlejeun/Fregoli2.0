<!DOCTYPE html>
<html lang="en">
<head>
	<title>Insurance - Search</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="icon" href="/fregoli/insurance/images/favicon.ico" type="image/x-icon">
	<link rel="shortcut icon" href="/fregoli/insurance/images/favicon.ico" type="image/x-icon" />

  <link rel="stylesheet" href="/fregoli/css/widgets.min.css" />    
  <link rel="stylesheet" href="/fregoli/css/cxw.css" />
  <script src="//demo.genesyslab.com/gdemo_mobile/web/v2/cxw/cxw_i18n.js" type="text/javascript"></script>
  <script src="/fregoli/js/i18n.js" type="text/javascript"></script>
  <style>
    .cx-sidebar, .cx-search-overlay-mobile .cx-common-container .cx-buttons-window-control  {
        display: none!important;  
    }
    .cx-ac-suggestion {
      background-color: white;
    }
  </style>
  <script>
  (function(){
    if(!window._genesys){
        window._genesys = {widgets: {}};
    }

    var _demoHost = '//' + location.host;
    var gksBaseUrl = _demoHost.substr(0,_demoHost.indexOf('.'))+'-gkcsrv'+_demoHost.substr(_demoHost.indexOf('.')); 

    var widget_color = "#186eb9";
    // Theming
    if (widget_color) {
        CXW_THEME = 'custom';
        var sheet = document.createElement('style')
        sheet.innerHTML = ".cx-widget.cx-theme-custom .cx-svg-icon-tone1, .cx-widget.cx-theme-custom .cx-svg-icon-tone2 {fill:"+widget_color+"} ";
        sheet.innerHTML += ".cx-widget.cx-theme-custom .btn-primary {background:"+widget_color+"} ";
        sheet.innerHTML += ".cx-widget.cx-theme-custom *, .cx-widget.cx-theme-custom *:focus, .cx-widget.cx-theme-custom *:hover {border-color:"+widget_color+"} ";
        sheet.innerHTML += ".cx-widget.cx-theme-custom .btn-primary {background:"+widget_color+"} ";
        document.head.appendChild(sheet);
    }
    // cfg widgets
    window._genesys.widgets = {
        main: {
            plugins: [
                "cx-sidebar",
                "cx-search",
                "cx-knowledge-center-service"
            ],
            mobileMode: "auto",
            mobileModeBreakpoint: 600,
            theme: CXW_THEME,
            themes: {
              custom: 'cx-theme-custom'
            },
            lang: "en-US",
            i18n: cxw_i18n,
            debug: true
        },
        knowledgecenter: {
            host: gksBaseUrl+'/gks-server/v1',
            knowledgebases: ['insurance'],
            lang: 'en',
            media: '',
            maxTrendingResults: 5,
            maxSearchResults: 3,
            apiClientId: 'Fregoli',
            apiClientMediaType: 'selfserviceFregoli'
        },
        onReady: function(oCXBus){
          var text = getParameterByName('query'); 
          oCXBus.command("Search.open", {question: text});
        }
        
    };
    
    (function(d, s, id, o){var f = function(){var fs = d.getElementsByTagName(s)[0], e;
        if (d.getElementById(id)) return;e = d.createElement(s);
        e.id = id;e.src = o.src;fs.parentNode.insertBefore(e, fs);},ol = window.onload;
    if(o.onload){typeof window.onload != "function"?window.onload=f:window.onload=function(){ol();f();}}else {f();};})
            (document,'script','genesys-cx-widget', {src: '//demo.genesyslab.com/gdemo_mobile/web/v2/cxw/widgets.min.js'});

    var getParameterByName = function (name) {
        name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
        var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
            results = regex.exec(location.search);
        return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
    };
  })();  

  </script>

</head>
<body>
  <br/>
  <br/>
  <p>
  <div></div>
  </p>
</body>
</html>
